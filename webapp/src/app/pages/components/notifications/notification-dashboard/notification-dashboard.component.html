<!-- The below div contains the navigation tab and the 3 ellipses settings button -->
<!-- Clicking on the ellipses button shows us the 3 settings: Mark all as read,
etc -->
<div class="flex flex-row gap-8 p-8 justify-between">
  <p-tabMenu
    (activeItemChange)="onTabSwitched($event)"
    [model]="tabOptions"
  ></p-tabMenu>
  <p-button
    icon="pi pi-ellipsis-h"
    styleClass="p-button-rounded p-button-text"
    (click)="menu.toggle($event)"
    #navSettingsButton
  ></p-button>
</div>

<p-menu #menu [model]="menuOptions" [popup]="true" appendTo="body"></p-menu>

<!-- <div class="p-8 pt-0">
  <ng-container *ngIf="notifications$ | async as notifications; else loading">
    <app-notification-box
      *ngFor="let notification of notifications"
      [notification]="notification"
      (click)="onNotificationClicked(notification)"
    >
    </app-notification-box>
  </ng-container>

  <ng-template #loading>
    <div>Loading.......</div>
  </ng-template>
</div>
 -->
<div class="p-8 pt-0">
  <ng-container *ngIf="loading$ | async; else notificationsArrived">
    Loading....
  </ng-container>

  <ng-template #notificationsArrived>
    <ng-container *ngIf="notifications$ | async as notifications">
      <ng-container *ngIf="notifications.length > 0; else noNotifications">
        <app-notification-box
          *ngFor="let notification of notifications"
          [notification]="notification"
          (click)="onNotificationClicked(notification)"
        ></app-notification-box>
        <div
          routerLink="notification/all"
          class="text-center text-xl text-sky-700 cursor-pointer mt-4;"
        >
          View All
        </div>
      </ng-container>

      <ng-template #noNotifications> No notifications present </ng-template>
    </ng-container>
  </ng-template>
</div>
